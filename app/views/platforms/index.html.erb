<p id="notice"><%= notice %></p>

<h1 class="title">Platforms</h1>

<div ng-app="platformApp" ng-controller="platformController">

<% if current_user && current_user.isAdmin %>

<button  data-toggle="modal" data-target="#platModal" id="newPlatform" class="btn btn-danger btn-lg">Add a new platform</button>

<% end %>
<table id="platforms" class="table table-hover">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead> 
  <tr ng-repeat="platform in platforms | filter:keywords">
    <td><a href='platforms/{{platform.id}}'>{{platform.title}}</a></td>
    <td>{{platform.description}}</td>
    <% if current_user && current_user.isAdmin %>
      <td><a data-confirm="Are you sure?" data-method="delete" ng-href='platforms/{{platform.id}}' target="_self"><button class="btn btn-danger">Delete</button></a></td>
    <% end %>
  </tr>

</table>

<div id="platModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Add platform</h4>
      </div>
      <div class="modal-body">
        <%= render 'form'%>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div> 


</div>
